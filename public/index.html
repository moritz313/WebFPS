<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebFPS - Multiplayer Shooter</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
    <script>
        // Fallback fÃ¼r Three.js falls CDN fehlschlÃ¤gt
        if (typeof THREE === 'undefined') {
            document.write('<script src="/lib/three.min.js"><\/script>');
        }
    </script>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div id="ui">
        <div id="hud">
            <div id="crosshair">+</div>
            <div id="cooldown-bar" style="display: none; position: absolute; top: 52%; left: 50%; transform: translateX(-50%); width: 60px; height: 4px; border: 1px solid #fff; background-color: rgba(0,0,0,0.3);">
                <div id="cooldown-fill" style="height: 100%; background-color: #ff6600; width: 0%; transition: width 0.1s;"></div>
            </div>
            <div id="health">
                <span>Leben: </span>
                <span id="healthValue">100</span>
            </div>
            <div id="ammo">
                <span>Munition: âˆž</span>
            </div>
            <div id="weapon">
                <span id="weapon-icon">ðŸ”«</span>
                <span>Waffe: </span>
                <span id="weapon-display">Gewehr</span>
            </div>
            <div id="zoom-status" style="display: none; color: #0088ff; font-weight: bold; font-size: 16px;">
                ZOOM AKTIV
            </div>
        </div>
        
        <div id="menu" class="hidden">
            <h1>WebFPS Multiplayer</h1>
            <button id="startBtn">Spiel starten</button>
            <div id="instructions">
                <h3>Steuerung:</h3>
                <p>WASD - Bewegung</p>
                <p>Shift - Sprinten</p>
                <p>Leertaste - Springen</p>
                <p>Maus - Umschauen</p>
                <p>Linke Maustaste - SchieÃŸen</p>
                <p>Rechte Maustaste (halten) - Zoom (Sniper)</p>
                <p>1 - Gewehr</p>
                <p>2 - Shotgun</p>
                <p>3 - Sniper</p>
                <p>ESC - MenÃ¼</p>
            </div>
        </div>
        
        <div id="death-screen" class="hidden">
            <h2>Du wurdest eliminiert!</h2>
            <p>Respawn in <span id="respawn-timer">5</span> Sekunden...</p>
        </div>
    </div>

    <div id="game-container">
        <canvas id="gameCanvas"></canvas>
    </div>

    <script>
        // Warten bis alle Scripts geladen sind, dann game.js laden
        window.addEventListener('load', function() {
            if (typeof THREE !== 'undefined' && typeof io !== 'undefined') {
                const script = document.createElement('script');
                script.src = 'game.js';
                document.body.appendChild(script);
            } else {
                console.error('Three.js oder Socket.io nicht geladen');
            }
        });
    </script>
</body>
</html> 